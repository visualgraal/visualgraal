<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>Visualgraal</title><style>*{margin:0;padding:0;box-sizing:border-box}body{background:#f5f7fa;font-family:system-ui;display:flex;flex-direction:column;height:100vh;overflow:hidden}#c{flex:1;background:#fff;border:1px solid #ddd;max-width:100vw;max-height:100vh;touch-action:none}#b{padding:12px;background:#fff;display:flex;gap:10px;flex-wrap:wrap}button{padding:12px 20px;background:#4a5568;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600}button:active{background:#2d3748}#s{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,0.1);padding:8px 16px;border-radius:20px;font-family:monospace;font-size:13px}</style></head><body><canvas id="c"></canvas><div id="b"><button onclick="t='p'">Pinceau</button><button onclick="t='e'">Gomme</button><button onclick="c.width=c.width">Nouveau</button><button onclick="let a=document.createElement('a');a.href=c.toDataURL();a.download='visualgraal.png';a.click()">Export</button></div><div id="s">Visualgraal<br><small>by Jean-Luc Battini</small></div><script>const c=document.getElementById('c'),x=c.getContext('2d');let t='p',d=false;x.lineWidth=25;x.lineCap='round';c.width=innerWidth;c.height=innerHeight;addEventListener('resize',()=>{c.width=innerWidth;c.height=innerHeight});function s(e){d=true;const r=c.getBoundingClientRect();x.beginPath();x.moveTo(e.clientX||e.touches[0].clientX-r.left,e.clientY||e.touches[0].clientY-r.top)}function m(e){if(!d)return;e.preventDefault();const r=c.getBoundingClientRect(),X=e.clientX||e.touches[0].clientX-r.left,Y=e.clientY||e.touches[0].clientY-r.top;x.lineTo(X,Y);t==='p'?x.globalCompositeOperation='source-over':x.globalCompositeOperation='destination-out';x.stroke();x.beginPath();x.moveTo(X,Y)}function e(){d=false}['mousedown','touchstart'].forEach(ev=>c.addEventListener(ev,s));['mousemove','touchmove'].forEach(ev=>c.addEventListener(ev,m));['mouseup','touchend','touchcancel'].forEach(ev=>c.addEventListener(ev,e));</script></body></html>
